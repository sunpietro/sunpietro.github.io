/**
 * AdaptiveNav - JS plugin to allow navigation menus to adapt to viewport width | v1.0.0
 * https://github.com/sunpietro/adaptive-nav
 *
 * Copyright 2016 Piotr Nalepa
 * http://blog.piotrnalepa.pl
 *
 * Released under the MIT license
 * https://github.com/sunpietro/adaptive-nav/blob/master/LICENSE
 *
 * Date: 2016-03-16T22:30Z
 */
(function(e){var t="adaptiveNav",n="undefined";if(typeof exports==="object"&&typeof module!==n){module.exports=e(require(t))}else if(typeof define==="function"&&define.amd){define([t],e)}else{var i;if(typeof window!==n){i=window}else if(typeof global!==n){i=global}else if(typeof self!==n){i=self}else{i=this}i.AdaptiveNav=e(i.AdaptiveNav)}})(function(e){e=function(e){var t="is-hidden",n="adaptive-nav",i=n+"--has-toggler-active",s=n+"__list--secondary",a=s+"--hidden",o=n+"__toggler",l=o+"--active",c="."+n,r=c+"__list",d=r+"__item",f=54,u=10,v=250,L,p,m,h,w,g,y,S=0,E=0,_=[],q=document.createElement("button"),N={navSelector:c,navListSelector:r,navItemSelector:d},b=function(){L.classList.add(i);q.classList.remove(t)},A=function(){L.classList.remove(i);q.classList.add(t)},k=function(){var e=p.offsetWidth-f,n=[],i=false,s=function(e,i){if(n[i]){e.classList.remove(t);w[i].classList.add(t)}else{e.classList.add(t);w[i].classList.remove(t)}};n=_.filter(function(t){return t<=e});i=n.length!==_.length;if(i){b()}else{A()}h.forEach(s)},I=function(e){m.classList.toggle(a);q.classList.toggle(l);if(!m.classList.contains(a)){document.addEventListener("click",D,false)}},T=function(e,t){var n=e.parentNode;if(!n){return undefined}if(t(e)){return e}return t(n)?n:T(n,t)},x=function(e){return e.classList&&e.classList.contains(s)},C=function(e){return e.classList&&e.classList.contains(o)},D=function(e){var t=!!T(e.target,x),n=!!T(e.target,C);if(!t&&!n){I.apply(this,arguments);document.removeEventListener("click",D)}},W=function(){window.clearTimeout(g);g=window.setTimeout(k,u)},j=function(e){S=S+e.offsetWidth;return S},z=function(){E=Date.now()},O=function(){var e=Date.now()-E;if(e>v){return}I.apply(this,arguments)};for(y in e){if(e.hasOwnProperty(y)){N[y]=e[y]}}L=document.querySelector(N.navSelector);p=L.querySelector(N.navListSelector);m=p.cloneNode(true);h=[].slice.call(p.querySelectorAll(N.navItemSelector));w=[].slice.call(m.querySelectorAll(N.navItemSelector));m.classList.add(s);m.classList.add(a);q.classList.add(o);q.classList.add(t);L.appendChild(m);L.appendChild(q);if("touchstart"in window){q.addEventListener("touchstart",z,false);q.addEventListener("touchend",O,false)}else{q.addEventListener("click",I,false)}_=h.map(j);k();window.addEventListener("resize",W);return{update:function(){window.clearTimeout(g);k()}}};return e});